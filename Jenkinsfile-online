pipeline {
  agent {
      kubernetes {
        label 'hello'
        yaml """
        apiVersion: v1
        kind: Pod
        metadata:
          your-label: some-additional-label
        spec:
          containers:
          - name: maven
            image: maven:alpine
            command:
            - cat
            tty: true
          - name: docker
            image: busybox
            command:
            - cat
            tty: true
        """.stripIndent()
          }
          }
    stages {
        stage ('checkout scm') {
            steps {
                checkout(scm)
            }
       }
        stage('Build') {
            steps {
              container ('docker'){
              sh 'echo "Hello World"'
              sh '''
              echo "Multiline shell steps works too"
              '''
        }
      }
        }
     }
}
